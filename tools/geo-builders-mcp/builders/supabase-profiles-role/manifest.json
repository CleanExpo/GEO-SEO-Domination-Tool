{
  "id": "supabase-profiles-role",
  "title": "Profiles: add role column",
  "summary": "Adds role column to profiles table with default 'free' and keeps RLS intact.",
  "engine": "eta",
  "variables": [
    {
      "name": "SCHEMA_NAME",
      "required": false,
      "example": "public"
    },
    {
      "name": "TABLE_NAME",
      "required": false,
      "example": "profiles"
    }
  ],
  "files": [
    {
      "from": "templates/sql/role.sql.eta",
      "to": "database/supabase/<%= TABLE_NAME || 'profiles' %>_role.sql",
      "strategy": "create-or-overwrite"
    },
    {
      "from": "templates/README.md.eta",
      "to": "docs/builders/supabase-profiles-role.md",
      "strategy": "create-or-overwrite"
    }
  ]
}
